(()=>{var g;function y(e){g=e}function l(e,t=!1){e=e.closest("[x-target],[x-ajax]")??e;let r=e.hasAttribute("x-target")?e.getAttribute("x-target").split(" "):[e.id];if(r=r.filter(n=>n),r.length===0)throw new h(e);return t&&document.querySelectorAll("[x-sync]").forEach(n=>{if(!n.id)throw new h(n);r.includes(n.id)||r.push(n.id)}),r}function b(e){return e.closest("[x-ajax],[x-noajax]").hasAttribute("x-noajax")}var h=class extends Error{constructor(t){let r=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${r} is missing an ID to target.`),this.name="Target Missing ID"}};function x(e){return e.closest("[data-source]")?.dataset.source}var c={},E;function A(e){E=e||(t=>(console.warn(`You can't use Alpine AJAX without first installing the "morph" plugin here: https://alpinejs.dev/plugins/morph`),t))}async function f(e,t,r,n=!0){let o=(u,s={})=>r.dispatchEvent(new CustomEvent(u,{detail:s,bubbles:!0,composed:!0,cancelable:!0}));if(n||(o=()=>!0),!o("ajax:before"))return;t.forEach(u=>{let s=document.getElementById(u);s&&s.setAttribute("aria-busy","true")});let i=await I(e);if(i.ok?o("ajax:success",i):o("ajax:error",i),o("ajax:after",i),!i.html)return;let m=document.createRange().createContextualFragment(i.html),d=t.map(u=>{let s=m.getElementById(u),p=document.getElementById(u);if(!s)return o("ajax:missing",i)?(p.hasAttribute("x-sync")||console.warn(`Target #${u} not found in AJAX response.`),i.ok?E(p,p.cloneNode(!1)):window.location.href=i.url):void 0;E(p,s);let w=document.getElementById(u);return w.dataset.source=i.url,w}),a=g.bound(r,"focus");return a!==void 0&&(d.length&&typeof a=="string"?j(d[0].querySelector(g.bound(r,"focus"))):j(a)),d}async function I({method:e,action:t,body:r,referrer:n}){let o,i=a=>a,m=a=>a;if(e==="GET"){if(o=k(t),q(t))return o;i=a=>v(t,u=>u.resolve(a)),m=a=>v(t,u=>u.reject(a))}n=n||window.location.href;let d=fetch(t,{headers:{"X-Alpine-Request":"true"},referrer:n,method:e,body:r}).then(B).then(i).catch(m);return e==="GET"?o:d}function k(e){c[e]||(c[e]=[]);let t={},r=new Promise((n,o)=>{t.resolve=n,t.reject=o});return c[e].push(t),r}function q(e){return c[e].length>1}function v(e,t){(c[e]||[]).forEach(t),c[e]=void 0}function B(e){return e.text().then(t=>(e.html=t,e))}function j(e){setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0)}function L(e){let t=r=>{let n=r.target;!D(n)||b(n)||(r.preventDefault(),r.stopPropagation(),f(C(n),l(n,!0),n))};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}function C(e){return{method:"GET",action:e.href,referrer:x(e),body:null}}function D(e){return e.href&&!e.hash&&e.origin==location.origin}function S(e){let t=r=>{let n=r.target;if(!b(n))return r.preventDefault(),r.stopPropagation(),G(r.submitter,()=>f(R(n,r.submitter),l(n,!0),n))};return e.addEventListener("submit",t),()=>e.removeEventListener("submit",t)}function R(e,t=null){let r=(e.getAttribute("method")||"GET").toUpperCase(),n=e.getAttribute("action")||window.location.href,o=new FormData(e);t&&t.name&&o.append(t.name,t.value),r==="GET"&&(n=N(o,n),o=null);let i=e.closest("[data-source]")?.dataset.source;return{method:r,action:n,body:o,referrer:i}}async function G(e,t){if(!e)return await t();let r=i=>i.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",r);let n=e===document.activeElement,o=await t();return e.removeAttribute("aria-disabled"),e.removeEventListener("click",r),o}function N(e,t){let r=Array.from(e.entries()).filter(([n,o])=>o!==""||o!==null);if(r.length){let n=t.split("#");t=n[0],t.includes("?")?t+="&":t+="?",t+=new URLSearchParams(r);let o=n[1];o&&(t+="#"+o)}return t}var F=new WeakMap;function P(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null,r=t?t.closest("input, button"):null;return r?.type=="submit"?r:null}function $(e){let t=P(e.target);t&&t.form&&F.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",$,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return F.get(this.target)}})})();function T(e){y(e),A(e.morph),e.addInitSelector(()=>`[${e.prefixed("ajax")}]`),e.directive("ajax",(t,{},{cleanup:r})=>{let n=S(t),o=L(t);r(()=>{n(),o()})}),e.magic("ajax",t=>(r,n)=>{let o={action:r,method:n?.method?n.method.toUpperCase():"GET",body:n?.body?new FormData(body):null,referrer:x(t)};return f(o,l(t,n?.sync),t,Boolean(n?.events))}),e.addInitSelector(()=>`[${e.prefixed("load")}]`),e.directive("load",(t,{expression:r},{evaluate:n})=>typeof r=="string"?!!r.trim()&&n(r):n(r))}document.addEventListener("alpine:initializing",()=>{T(window.Alpine)});})();
