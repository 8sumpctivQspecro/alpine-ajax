(()=>{var g;function y(e){g=e}function l(e,t=!1,n=null){let r=[];if(n&&n.hasAttribute("target")?r=n.getAttribute("target").split(" "):e.hasAttribute("target")?r=e.getAttribute("target").split(" "):r=[e.id],r=r.filter(i=>i),r.length===0)throw new h(e);return t&&document.querySelectorAll("[x-sync]").forEach(i=>{if(!i.id)throw new h(i);r.includes(i.id)||r.push(i.id)}),r}function b(e){return e.closest("[x-ajax],[noajax]").hasAttribute("noajax")}var h=class extends Error{constructor(t){let n=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${n} is missing an ID to target.`),this.name="Target Missing ID"}};function E(e){return e.closest("[data-source]")?.dataset.source}var c={},w;function j(e){w=e||(t=>(console.warn(`You can't use Alpine AJAX without first installing the "morph" plugin here: https://alpinejs.dev/plugins/morph`),t))}async function f(e,t,n,r=!0){let i=(u,s={})=>n.dispatchEvent(new CustomEvent(u,{detail:s,bubbles:!0,composed:!0,cancelable:!0}));if(r||(i=()=>!0),!i("ajax:before"))return;t.forEach(u=>{let s=document.getElementById(u);s&&s.setAttribute("aria-busy","true")});let o=await I(e);if(o.ok?i("ajax:success",o):i("ajax:error",o),i("ajax:after",o),!o.html)return;let m=document.createRange().createContextualFragment(o.html),d=t.map(u=>{let s=m.getElementById(u),p=document.getElementById(u);if(!s)return i("ajax:missing",o)?(p.hasAttribute("x-sync")||console.warn(`Target #${u} not found in AJAX response.`),o.ok?w(p,p.cloneNode(!1)):window.location.href=o.url):void 0;w(p,s);let x=document.getElementById(u);return x.dataset.source=o.url,x}),a=g.bound(n,"focus");return a!==void 0&&(d.length&&typeof a=="string"?A(d[0].querySelector(g.bound(n,"focus"))):A(a)),d}async function I({method:e,action:t,body:n,referrer:r}){let i,o=a=>a,m=a=>a;if(e==="GET"){if(i=k(t),q(t))return i;o=a=>v(t,u=>u.resolve(a)),m=a=>v(t,u=>u.reject(a))}r=r||window.location.href;let d=fetch(t,{headers:{"X-Alpine-Request":"true"},referrer:r,method:e,body:n}).then(B).then(o).catch(m);return e==="GET"?i:d}function k(e){c[e]||(c[e]=[]);let t={},n=new Promise((r,i)=>{t.resolve=r,t.reject=i});return c[e].push(t),n}function q(e){return c[e].length>1}function v(e,t){(c[e]||[]).forEach(t),c[e]=void 0}function B(e){return e.text().then(t=>(e.html=t,e))}function A(e){setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0)}function L(e){let t=n=>{let r=n.target;!D(r)||b(r)||(n.preventDefault(),n.stopPropagation(),f(C(r),l(e,!0,r),r))};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}function C(e){return{method:"GET",action:e.href,referrer:E(e),body:null}}function D(e){return e.href&&!e.hash&&e.origin==location.origin}function S(e){let t=n=>{let r=n.target;if(!b(r))return n.preventDefault(),n.stopPropagation(),G(n.submitter,()=>f(R(r,n.submitter),l(e,!0,r),r))};return e.addEventListener("submit",t),()=>e.removeEventListener("submit",t)}function R(e,t=null){let n=(e.getAttribute("method")||"GET").toUpperCase(),r=e.getAttribute("action")||window.location.href,i=new FormData(e);n==="GET"&&(r=N(i,r),i=null),t&&t.name&&i.append(t.name,t.value);let o=e.closest("[data-source]")?.dataset.source;return{method:n,action:r,body:i,referrer:o}}async function G(e,t){if(!e)return await t();let n=o=>o.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",n);let r=e===document.activeElement,i=await t();return e.removeAttribute("aria-disabled"),e.removeEventListener("click",n),i}function N(e,t){let n=Array.from(e.entries()).filter(([r,i])=>i!==""||i!==null);if(n.length){let r=t.split("#");t=r[0],t.includes("?")?t+="&":t+="?",t+=new URLSearchParams(n);let i=r[1];i&&(t+="#"+i)}return t}var F=new WeakMap;function P(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null,n=t?t.closest("input, button"):null;return n?.type=="submit"?n:null}function $(e){let t=P(e.target);t&&t.form&&F.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",$,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return F.get(this.target)}})})();function T(e){y(e),j(e.morph),e.addInitSelector(()=>`[${e.prefixed("ajax")}]`),e.directive("ajax",(t,{},{cleanup:n})=>{let r=S(t),i=L(t);n(()=>{r(),i()})}),e.magic("ajax",t=>(n,r)=>{let i={action:n,method:r?.method?r.method.toUpperCase():"GET",body:r?.body?new FormData(body):null,referrer:E(t)};return f(i,l(t,r?.sync),t,Boolean(r?.events))}),e.addInitSelector(()=>`[${e.prefixed("load")}]`),e.directive("load",(t,{expression:n},{evaluate:r})=>typeof n=="string"?!!n.trim()&&r(n):r(n))}document.addEventListener("alpine:initializing",()=>{T(window.Alpine)});})();
