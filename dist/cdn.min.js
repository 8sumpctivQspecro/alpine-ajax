(()=>{var b;function y(e){b=e}function l(e,t=!1){e=e.closest("[x-target],[x-ajax]")??e;let r=e.hasAttribute("x-target")?e.getAttribute("x-target").split(" "):[e.id];if(r=r.filter(n=>n),r.length===0)throw new g(e);return t&&document.querySelectorAll("[x-sync]").forEach(n=>{if(!n.id)throw new g(n);r.includes(n.id)||r.push(n.id)}),r}function x(e){return e.closest("[x-ajax],[x-noajax]").hasAttribute("x-noajax")}var g=class extends Error{constructor(t){let r=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${r} is missing an ID to target.`),this.name="Target Missing ID"}};function c(e){return e.closest("[data-source]")?.dataset.source}var f={},E;function A(e){E=e||(t=>(console.warn(`You can't use Alpine AJAX without first installing the "morph" plugin here: https://alpinejs.dev/plugins/morph`),t))}async function d(e,t,r,n=!0){let o=(u,s={})=>r.dispatchEvent(new CustomEvent(u,{detail:s,bubbles:!0,composed:!0,cancelable:!0}));if(n||(o=()=>!0),!o("ajax:before"))return;t.forEach(u=>{let s=document.getElementById(u);s&&s.setAttribute("aria-busy","true")});let i=await I(e);if(i.ok?o("ajax:success",i):o("ajax:error",i),o("ajax:after",i),!i.html)return;let p=document.createRange().createContextualFragment(i.html),m=t.map(u=>{let s=p.getElementById(u),h=document.getElementById(u);if(!s)return o("ajax:missing",i)?(h.hasAttribute("x-sync")||console.warn(`Target #${u} not found in AJAX response.`),i.ok?E(h,h.cloneNode(!1)):window.location.href=i.url):void 0;E(h,s);let w=document.getElementById(u);return w.dataset.source=i.url,w}),a=b.bound(r,"focus");return a!==void 0&&(m.length&&typeof a=="string"?j(m[0].querySelector(b.bound(r,"focus"))):j(a)),m}async function I({method:e,action:t,body:r,referrer:n}){let o,i=a=>a,p=a=>a;if(e==="GET"){if(o=k(t),q(t))return o;i=a=>v(t,u=>u.resolve(a)),p=a=>v(t,u=>u.reject(a))}n=n||window.location.href;let m=fetch(t,{headers:{"X-Alpine-Request":"true"},referrer:n,method:e,body:r}).then(B).then(i).catch(p);return e==="GET"?o:m}function k(e){f[e]||(f[e]=[]);let t={},r=new Promise((n,o)=>{t.resolve=n,t.reject=o});return f[e].push(t),r}function q(e){return f[e].length>1}function v(e,t){(f[e]||[]).forEach(t),f[e]=void 0}function B(e){return e.text().then(t=>(e.html=t,e))}function j(e){setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0)}function L(e){let t=r=>{let n=r.target;!D(n)||x(n)||(r.preventDefault(),r.stopPropagation(),d(C(n),l(n,!0),n))};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}function C(e){return{method:"GET",action:e.href,referrer:c(e),body:null}}function D(e){return e.href&&!e.hash&&e.origin==location.origin}function S(e){let t=r=>{let n=r.target;if(!x(n))return r.preventDefault(),r.stopPropagation(),G(r.submitter,()=>d(R(n,r.submitter),l(n,!0),n))};return e.addEventListener("submit",t),()=>e.removeEventListener("submit",t)}function R(e,t=null){let r=(e.getAttribute("method")||"GET").toUpperCase(),n=c(e),o=e.getAttribute("action")||n||window.location.href,i=new FormData(e);return t&&t.name&&i.append(t.name,t.value),r==="GET"&&(o=N(i,o),i=null),{method:r,action:o,body:i,referrer:n}}async function G(e,t){if(!e)return await t();let r=i=>i.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",r);let n=e===document.activeElement,o=await t();return e.removeAttribute("aria-disabled"),e.removeEventListener("click",r),o}function N(e,t){let r=Array.from(e.entries()).filter(([n,o])=>o!==""||o!==null);if(r.length){let n=t.split("#");t=n[0],t.includes("?")?t+="&":t+="?",t+=new URLSearchParams(r);let o=n[1];o&&(t+="#"+o)}return t}var F=new WeakMap;function P(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null,r=t?t.closest("input, button"):null;return r?.type=="submit"?r:null}function $(e){let t=P(e.target);t&&t.form&&F.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",$,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return F.get(this.target)}})})();function T(e){y(e),A(e.morph),e.addInitSelector(()=>`[${e.prefixed("ajax")}]`),e.directive("ajax",(t,{},{cleanup:r})=>{let n=S(t),o=L(t);r(()=>{n(),o()})}),e.magic("ajax",t=>(r,n)=>{let o={action:r,method:n?.method?n.method.toUpperCase():"GET",body:n?.body?new FormData(body):null,referrer:c(t)};return d(o,l(t,n?.sync),t,Boolean(n?.events))}),e.addInitSelector(()=>`[${e.prefixed("load")}]`),e.directive("load",(t,{expression:r},{evaluate:n})=>typeof r=="string"?!!r.trim()&&n(r):n(r))}document.addEventListener("alpine:initializing",()=>{T(window.Alpine)});})();
