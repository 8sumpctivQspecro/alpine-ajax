(()=>{var b;function w(e){b=e}function f(e,t=!1){e=e.closest("[x-target],[x-ajax]")??e;let n=e.hasAttribute("x-target")?e.getAttribute("x-target").split(" "):[e.id];if(n=n.filter(r=>r),n.length===0)throw new g(e);return t&&document.querySelectorAll("[x-sync]").forEach(r=>{if(!r.id)throw new g(r);n.includes(r.id)||n.push(r.id)}),n}function x(e){return e.closest("[x-ajax],[x-noajax]").hasAttribute("x-noajax")}var g=class extends Error{constructor(t){let n=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${n} is missing an ID to target.`),this.name="Target Missing ID"}};function c(e){return e.closest("[data-source]")?.dataset.source}var d={},E;function A(e){E=e||(t=>(console.warn(`You can't use Alpine AJAX without first installing the "morph" plugin here: https://alpinejs.dev/plugins/morph`),t))}async function m(e,t,n,r=!0){let i=(u,l={})=>n.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0,cancelable:!0}));if(r||(i=()=>!0),!i("ajax:before"))return;t.forEach(u=>{let l=document.getElementById(u);l&&l.setAttribute("aria-busy","true")});let o=await I(e);if(o.ok?i("ajax:success",o):i("ajax:error",o),i("ajax:after",o),!o.html)return;let s=document.createRange().createContextualFragment(o.html),p=t.map(u=>{let l=s.getElementById(u),h=document.getElementById(u);if(!l)return i("ajax:missing",o)?(h.hasAttribute("x-sync")||console.warn(`Target #${u} not found in AJAX response.`),o.ok?E(h,h.cloneNode(!1)):window.location.href=o.url):void 0;E(h,l);let y=document.getElementById(u);return y.dataset.source=o.url,y}),a=b.bound(n,"focus");return a!==void 0&&(p.length&&typeof a=="string"?j(p[0].querySelector(b.bound(n,"focus"))):j(a)),p}async function I({method:e,action:t,body:n,referrer:r}){let i,o=a=>a,s=a=>a;if(e==="GET"){if(i=k(t),q(t))return i;o=a=>v(t,u=>u.resolve(a)),s=a=>v(t,u=>u.reject(a))}r=r||window.location.href;let p=fetch(t,{headers:{"X-Alpine-Request":"true"},referrer:r,method:e,body:n}).then(B).then(o).catch(s);return e==="GET"?i:p}function k(e){d[e]||(d[e]=[]);let t={},n=new Promise((r,i)=>{t.resolve=r,t.reject=i});return d[e].push(t),n}function q(e){return d[e].length>1}function v(e,t){(d[e]||[]).forEach(t),d[e]=void 0}function B(e){return e.text().then(t=>(e.html=t,e))}function j(e){setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0)}function L(e){let t=n=>{let r=n.target;!D(r)||x(r)||(n.preventDefault(),n.stopPropagation(),m(C(r),f(r,!0),r))};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}function C(e){return{method:"GET",action:e.href,referrer:c(e),body:null}}function D(e){return e.href&&!e.hash&&e.origin==location.origin}function S(e){let t=n=>{let r=n.target;if(!x(r))return n.preventDefault(),n.stopPropagation(),G(n.submitter,()=>m(R(r,n.submitter),f(r,!0),r))};return e.addEventListener("submit",t),()=>e.removeEventListener("submit",t)}function R(e,t=null){let n=(e.getAttribute("method")||"GET").toUpperCase(),r=c(e),i=e.getAttribute("action")||r||window.location.href,o=new FormData(e);return t&&t.name&&o.append(t.name,t.value),n==="GET"&&(i=N(o,i),o=null),{method:n,action:i,body:o,referrer:r}}async function G(e,t){if(!e)return await t();let n=o=>o.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",n);let r=e===document.activeElement,i=await t();return e.removeAttribute("aria-disabled"),e.removeEventListener("click",n),i}function N(e,t){let n=Array.from(e.entries()).filter(([r,i])=>i!==""||i!==null);if(n.length){let r=t.split("#");t=r[0],t.includes("?")?t+="&":t+="?",t+=new URLSearchParams(n);let i=r[1];i&&(t+="#"+i)}return t}var F=new WeakMap;function P(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null,n=t?t.closest("input, button"):null;return n?.type=="submit"?n:null}function H(e){let t=P(e.target);t&&t.form&&F.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",H,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return F.get(this.target)}})})();function T(e){w(e),A(e.morph),e.addInitSelector(()=>`[${e.prefixed("ajax")}]`),e.directive("ajax",(t,{},{cleanup:n})=>{let r=S(t),i=L(t);n(()=>{r(),i()})}),e.magic("ajax",t=>(n,r)=>{let i=null;if(r&&r.body)if(r.body instanceof HTMLFormElement)i=r.body;else{i=new FormData;for(let s in r.body)i.append(s,r.body[s])}let o={action:n,method:r?.method?r.method.toUpperCase():"GET",body:i,referrer:c(t)};return m(o,f(t,r?.sync),t,Boolean(r?.events))}),e.addInitSelector(()=>`[${e.prefixed("load")}]`),e.directive("load",(t,{expression:n},{evaluate:r})=>typeof n=="string"?!!n.trim()&&r(n):r(n))}document.addEventListener("alpine:initializing",()=>{T(window.Alpine)});})();
