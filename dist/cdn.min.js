!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e;e=null,document.addEventListener("click",(function(t){t.target.closest&&(e=t.target.closest("button, input[type=submit]"))}),!0),document.addEventListener("submit",(function(t){if(!("submitter"in t)){var n=[document.activeElement,e];e=null;for(var r=0;r<n.length;r++){var a=n[r];if(a&&a.form&&a.matches("button, input[type=button], input[type=image]"))return void(t.submitter=a)}t.submitter=t.target.querySelector("button, input[type=button], input[type=image]")}}),!0);class t{el=void 0;constructor(e){this.el=e}traversals={first:"firstElementChild",next:"nextElementSibling",parent:"parentElement"};nodes(){return this.traversals={first:"firstChild",next:"nextSibling",parent:"parentNode"},this}first(){return this.teleportTo(this.el[this.traversals.first])}next(){return this.teleportTo(this.teleportBack(this.el[this.traversals.next]))}before(e){return this.el[this.traversals.parent].insertBefore(e,this.el),e}replace(e){return this.el[this.traversals.parent].replaceChild(e,this.el),e}append(e){return this.el.appendChild(e),e}teleportTo(e){return e&&e._x_teleport?e._x_teleport:e}teleportBack(e){return e&&e._x_teleportBack?e._x_teleportBack:e}}function n(e){return new t(e)}let r=()=>{},a=()=>{};async function i(e,t,i){let l,u,s,d,c,f,p,m,h,w,v;function b(e){if(v)return a((e||"").replace("\n","\\n"),l,u),new Promise((e=>r=()=>e()))}async function y(e,t){if(function(e,t){return e.nodeType!=t.nodeType||e.nodeName!=t.nodeName||x(e)!=x(t)}(e,t)){let r=function(e,t){if(o(p,e))return;let r=t.cloneNode(!0);if(o(h,r))return;n(e).replace(r),m(e),w(r)}(e,t);return await b("Swap elements"),r}let r=!1;if(!o(c,e,t,(()=>r=!0))){if(window.Alpine&&function(e,t,n){if(1!==e.nodeType)return;e._x_dataStack&&window.Alpine.clone(e,t)}(e,t),3===(a=t).nodeType||8===a.nodeType)return await async function(e,t){let n=t.nodeValue;e.nodeValue!==n&&(e.nodeValue=n,await b("Change text node to: "+n))}(e,t),void f(e,t);var a;r||await async function(e,t){if(e._x_isShown&&!t._x_isShown)return;if(!e._x_isShown&&t._x_isShown)return;let n=Array.from(e.attributes),r=Array.from(t.attributes);for(let r=n.length-1;r>=0;r--){let a=n[r].name;t.hasAttribute(a)||(e.removeAttribute(a),await b("Remove attribute"))}for(let t=r.length-1;t>=0;t--){let n=r[t].name,a=r[t].value;e.getAttribute(n)!==a&&(e.setAttribute(n,a),await b(`Set [${n}] attribute to: "${a}"`))}}(e,t),f(e,t),await async function(e,t){let r=e.childNodes;g(t.childNodes);let a=g(r),i=n(t).nodes().first(),l=n(e).nodes().first(),u={};for(;i;){let t=x(i),r=x(l);if(!l){if(!t||!u[t]){let t=E(i,e)||{};await b("Add element: "+(t.outerHTML||t.nodeValue)),i=n(i).nodes().next();continue}{let r=u[t];n(e).append(r),l=r,await b("Add element (from key)")}}if(d){let e=n(i).next(),t=!1;for(;!t&&e;)l.isEqualNode(e)&&(t=!0,l=A(i,l),r=x(l),await b("Move element (lookahead)")),e=n(e).next()}if(t!==r){if(!t&&r){u[r]=l,l=A(i,l),u[r].remove(),l=n(l).nodes().next(),i=n(i).nodes().next(),await b('No "to" key');continue}if(t&&!r&&a[t]&&(l=n(l).replace(a[t]),await b('No "from" key')),t&&r){u[r]=l;let e=a[t];if(!e){u[r]=l,l=A(i,l),u[r].remove(),l=n(l).next(),i=n(i).next(),await b("Swap elements with keys");continue}l=n(l).replace(e),await b('Move "from" key')}}let o=l&&n(l).nodes().next();await y(l,i),i=i&&n(i).nodes().next(),l=o}let s=[];for(;l;)o(p,l)||s.push(l),l=n(l).nodes().next();for(;s.length;){let e=s.shift();e.remove(),await b("remove el"),m(e)}}(e,t)}}function x(e){return e&&1===e.nodeType&&s(e)}function g(e){let t={};return e.forEach((e=>{let n=x(e);n&&(t[n]=e)})),t}function E(e,t){if(!o(h,e)){let r=e.cloneNode(!0);return n(t).append(r),w(r),r}return null}function A(e,t){if(!o(h,e)){let r=e.cloneNode(!0);return n(t).before(r),w(r),r}return t}return function(e={}){let t=()=>{};c=e.updating||t,f=e.updated||t,p=e.removing||t,m=e.removed||t,h=e.adding||t,w=e.added||t,s=e.key||(e=>e.getAttribute("key")),d=e.lookahead||!1,v=e.debug||!1}(i),l=e,u=function(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild}(t),window.Alpine&&window.Alpine.closestDataStack&&!e._x_dataStack&&(u._x_dataStack=window.Alpine.closestDataStack(e),u._x_dataStack&&window.Alpine.clone(e,u)),await b(),await y(e,u),l=void 0,u=void 0,e}function o(e,...t){let n=!1;return e(...t,(()=>n=!0)),n}function l(e){e.directive("ajax",((e,{},{cleanup:t})=>{u(e);let n=function(e){let t=t=>{var n;let r=t.target;if(r.hasAttribute("noajax"))return;t.preventDefault(),t.stopPropagation();let a=(r.getAttribute("method")||"GET").toUpperCase(),i=r.getAttribute("action")||window.location.href,o=new FormData(r);null!=t&&null!==(n=t.submitter)&&void 0!==n&&n.name&&o.append(t.submitter.name,t.submitter.value),c(e,r,a,i,o)};return e.addEventListener("submit",t),()=>e.removeEventListener("submit",t)}(e),r=function(e){let t=t=>{let n=t.target,r=n.dataset.action;r&&(t.preventDefault(),t.stopPropagation(),c(e,n,"GET",r,null))};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}(e);t((()=>{n(),r()}))})),e.directive("load",((e,{value:t,expression:n},{cleanup:r})=>{if(!t&&!e.dataset.source)return f(e,"GET",n);let a=function(e,t,n){let r=()=>f(e,"GET",n);return window.addEventListener(t,r),()=>window.removeEventListener(t,r)}(e,t,n);r((()=>{a()}))}))}function u(e){if(!e.hasAttribute("data-action"))return s(e)?d(e):void e.querySelectorAll("[href]:not([noajax]):not([data-action])").forEach((e=>{s(e)&&d(e)}))}function s(e){return"A"===e.tagName&&e.getAttribute("href")&&0!==e.getAttribute("href").indexOf("#")&&e.hostname===location.hostname}function d(e){e.setAttribute("role","button"),e.dataset.action=e.getAttribute("href"),e.tabIndex=0,e.removeAttribute("href"),e.addEventListener("keydown",(e=>32===e.keyCode&&e.target.click()))}async function c(e,t,n,r,a=null){let i=await p(t,n,r,a);if(!i.body)return;let o=t.closest("[x-target]");h(new Set(o?o.getAttribute("x-target").split(" ").filter((e=>e)):[e.id]),i.body,i.url)}async function f(e,t,n){let r=await p(e,t,n);r.body&&h(new Set([e.id]),r.body,r.url)}async function p(e,t,n,r=null){var a;if(!m(e,"ajax:before"))return!1;if("GET"===t&&r){let e=Array.from(r.entries()).filter((([e,t])=>""!==t||null!==t));if(e.length){let t=n.split("#");(n=t[0]).includes("?")?n+="&":n+="?",n+=new URLSearchParams(e);let r=t[1];r&&(n+="#"+r)}r=null}let i=null===(a=e.closest("[data-source]"))||void 0===a?void 0:a.dataset.source;try{let a=await fetch(n,{headers:{"X-Alpine-Request":"true"},referrer:i,method:t,body:r});if(!a.ok){let e=new Error("Network response was not OK.");throw e.response=a,e}return m(e,"ajax:success",a),m(e,"ajax:after",a),{url:a.url,headers:a.headers,body:await a.text()}}catch(t){let n=t.response;if(!n)throw t;return m(e,"ajax:error",n),m(e,"ajax:after",n),{url:n.url,headers:n.headers,body:await n.text()}}}function m(e,t,n={}){return e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function h(e,t,n){document.querySelectorAll("[x-sync]").forEach((t=>{t.id&&e.add(t.id)}));let r=function(e){return document.createRange().createContextualFragment(e)}(t);e.forEach((async e=>{let t=r.getElementById(e);t&&(t.dataset.source=n,await i(document.getElementById(e),t.outerHTML),u(document.getElementById(e)))}))}i.step=()=>r(),i.log=e=>{a=e},document.addEventListener("alpine:initializing",(()=>{l(window.Alpine)}))}));
